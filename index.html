<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AI Input Safety Filter</title>
  <meta name="robots" content="noindex" />

  <link rel="stylesheet" href="./assets/styles.css" />
</head>

<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <div class="logo">
          <img
            src="./assets/logo-filter-full.png"
            class="logo-full"
            alt="Filter"
            loading="eager"
            decoding="async"
          />
          <span class="brand-name">AI Input Filter</span>
        </div>

        <div class="slogan" id="ui-slogan"></div>
      </div>

      <div class="lang">
        <button data-lang="de">DE</button>
        <button data-lang="en">EN</button>
        <button data-lang="zh" class="active">中文</button>
      </div>
    </header>

    <div class="grid">
      <section class="card">
        <h3 id="ui-in-title"></h3>
        <div class="sub" id="ui-in-sub"></div>

        <div class="outbox">
          <div class="filebar">
            <input id="pdfFile" type="file" accept="application/pdf" />
            <div class="filehint" id="pdfHint">PDF（文字型）可拖拽到这里，或点击选择文件</div>
          </div>

          <textarea id="inputText" spellcheck="false"></textarea>
        </div>

        <div class="moneybar">
          <label id="ui-money-label" for="moneyMode">金额保护：</label>
          <select id="moneyMode">
            <option value="off">关闭</option>
            <option value="m1">M1 精确遮盖</option>
            <option value="m2">M2 区间遮盖</option>
          </select>
          <span class="moneyhint" id="ui-money-hint">报价/合同建议开启</span>
        </div>

        <details id="panel">
          <summary>
            <span id="ui-panel-title"></span>
            <span class="pill"><span id="ui-panel-pill"></span> <strong id="ui-enabled-count">0</strong></span>
          </summary>

          <div class="hint" id="ui-panel-hint"></div>

          <div class="opt-group">
            <div class="opt-title" id="ui-l1-title"></div>
            <div class="opt-note" id="ui-l1-note"></div>
            <div class="checks" id="group-l1"></div>
          </div>

          <div class="opt-group">
            <div class="opt-title" id="ui-l2-title"></div>
            <div class="opt-note" id="ui-l2-note"></div>
            <div class="checks" id="group-l2"></div>
          </div>

          <div class="opt-group">
            <div class="opt-title" id="ui-l3-title"></div>
            <div class="opt-note" id="ui-l3-note"></div>
            <div class="checks" id="group-l3"></div>
          </div>
        </details>

        <div class="actions">
          <button class="btn primary" id="btnGenerate"></button>
          <div class="mini">
            <span class="pill"><span id="ui-hit-pill"></span> <strong id="hitCount">0</strong></span>
            <button class="btn secondary" id="btnExample"></button>
            <button class="btn secondary" id="btnClear"></button>
          </div>
        </div>
      </section>

      <div class="mid-filter" aria-hidden="true">
        <div class="flow-line"></div>
        <div class="filter-badge">
          <img
            src="./assets/logo-filter-icon.png"
            class="filter-icon"
            alt="Filter"
            loading="eager"
            decoding="async"
          />
        </div>
        <div class="flow-line"></div>
        <div class="filter-text">Filter</div>
      </div>

      <section class="card right">
        <h3 id="ui-out-title"></h3>
        <div class="sub" id="ui-out-sub"></div>

        <div class="outbox">
          <div class="output" id="outputText"></div>
        </div>

        <!-- ✅ 复制 + 反馈放在同一行 -->
        <div class="row">
          <button class="btn primary" id="btnCopy"></button>

          <div class="feedback feedback-inline">
            <div class="fbq" id="ui-fb-q"></div>
            <button class="iconbtn" id="btnUp">👍 <span id="upCount">0</span></button>
            <button class="iconbtn" id="btnDown">👎 <span id="downCount">0</span></button>
          </div>
        </div>

        <!-- ✅ Share：自动生成 + 自动展示 + 只保留下载 -->
        <div class="sharebar">
          <div class="shareleft">
            <div class="sharetitle" id="ui-share-title">安全卡片</div>
            <div class="sharesub" id="ui-share-sub">不包含原文，仅展示处理结果与隐私承诺</div>

            <div class="sharepreview">
              <img id="shareAutoImg" alt="Safety card preview" />
            </div>
          </div>

          <div class="shareright">
            <button class="btn primary" id="btnShareDownload">下载卡片</button>
          </div>
        </div>

        <div class="risk" id="riskBox"></div>

        <div class="links">
          <a id="linkLearn" href="./docs.html" target="_blank"></a>
          <a id="linkPrivacy" href="./privacy.html" target="_blank"></a>
          <a id="linkScope" href="./mvp.html" target="_blank"></a>
        </div>
      </section>
    </div>

    <footer>
      <div class="tiny" id="ui-foot"></div>
    </footer>
  </div>

  <!-- JS（顺序非常重要，不要改） -->
  <script src="./assets/i18n.js" defer></script>
  <script src="./assets/catalog.js" defer></script>
  <script src="./assets/rules.js" defer></script>
  <script src="./assets/pdf.js" defer></script>
  <script src="./assets/app.js" defer></script>
  <script src="./assets/share.js" defer></script>
</body>
</html>
